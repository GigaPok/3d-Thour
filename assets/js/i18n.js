 var demoJson = {
	"menu-items": {
		"facebook": {
			"0": "Facebook",
			"1": "Hause",
			"2": "Facebook"
		},
		"instagram": {
			"0": "Instagram",
			"1": "Hause",
			"2": "Instagram"
		},
		"website": {
			"0": "Website",
			"1": "Über uns",
			"2": "Website"
		},
		"youtube": {
			"0": "Youtube",
			"1": "Über uns",
			"2": "Youtube"
		},
		"location": {
			"0": "Location",
			"1": "Standort",
			"2": "მდებარეობა"
		},					
		"floor_1": {
			"0": "FIRTS FLOOR",
			"1": "Panoramas",
			"2": "პირველი სართული"
		},
		"floor_2": {
			"0": "SECOND FLOOR",
			"1": "Panoramas",
			"2": "მეორე სართული"
		},
		"floor_3": {
			"0": "THIRD FLOOR",
			"1": "Panoramas",
			"2": "მესამე სართული"
		},
		"floor_4": {
			"0": "FOURTH FLOOR",
			"1": "Panoramas",
			"2": "მეოთხე სართული"
		},
		"floor_5": {
			"0": "FIFTH FLOOR",
			"1": "Panoramas",
			"2": "მეხუთე სართული"
		},
		"floor_6": {
			"0": "SIXTH FLOOR",
			"1": "Panoramas",
			"2": "მეექვსე სართული"
		},
		"basement": {
			"0": "BASEMENT",
			"1": "Panoramas",
			"2": "ნულოვანი სართული"
		},
		"alizi": {
			"0": "Urban Park Hotels",
			"1": "Panoramas",
			"2": "Urban Park Hotels"
		},
		"panorama1": {
			"0": "Panoramic street View",
			"1": "Rezeption",
			"2": "Panoramic street View"
		},		
		"panorama2": {
			"0": "Lobby",
			"1": "Lobby-Bar",
			"2": "Lobby"
		},	
		"panorama3": {
			"0": "Lobby Bar",
			"1": "Restaurant",
			"2": "Lobby Bar"
		},
		"panorama4": {
			"0": "Park Entrance",
			"1": "Räume",
			"2": "Park Entrance"
		},
		"panorama5": {
			"0": "Parking Zone",
			"1": "Wohnzimmer",
			"2": "Parking Zone"
		},	
		"panorama6": {
			"0": "Park Territory",
			"1": "Badezimmer",
			"2": "Park Territory"
		},	
		"panorama7": {
			"0": "Hotel Exterior",
			"1": "Badezimmer",
			"2": "Hotel Exterior"
		},	
		"panorama8": {
			"0": "Hotel Entrance",
			"1": "Restaurant",
			"2": "Hotel Entrance"
		},	
		"panorama9": {
			"0": "Panoramic street View",
			"1": "Schwimmbad",
			"2": "Panoramic street View"
		},
		"panorama10": {
			"0": "MyChef Caffeteria",
			"1": "Sauna",
			"2": "პანორამა #10"
		},							
		"panorama11": {
			"0": "MyChef Caffeteria",
			"1": "Medien",
			"2": "პანორამა #11"
		},	
		"panorama12": {
			"0": "ICU - Isolated",
			"1": "Bildergalerie",
			"2": "პანორამა #12"
		},
		"panorama13": {
			"0": "Operation Room 3",
			"1": "YouTube-video",
			"2": "პანორამა #13"
		},	
		"panorama14": {
			"0": "Operation Room 3",
			"1": "iFrame",
			"2": "პანორამა #14"
		},							
		"panorama15": {
			"0": "Operation Room 3",
			"1": "Programmiert mit",
			"2": "პანორამა #15"
		},
		"panorama16": {
			"0": "Operation Room 3",
			"1": "HTML",
			"2": "პანორამა #16"
		},	
		"panorama17": {
			"0": "ICU - Isolated",
			"1": "CSS",
			"2": "პანორამა #17"
		},			
		"panorama18": {
			"0": "ICU - Isolated",
			"1": "JavaScript",
			"2": "პანორამა #18"
		},			
		"panorama19": {
			"0": "ICU - Isolated",
			"1": "JavaScript",
			"2": "პანორამა #19"
		},			
		"panorama20": {
			"0": "Pediatric Department",
			"1": "JavaScript",
			"2": "პანორამა #20"
		},			
		"panorama21": {
			"0": "ICU - Isolated",
			"1": "JavaScript",
			"2": "პანორამა #21"
		},			
		"panorama22": {
			"0": "ICU - Isolated",
			"1": "JavaScript",
			"2": "პანორამა #22"
		},
		"panorama23": {
			"0": "ICU",
			"1": "JavaScript",
			"2": "პანორამა #23"
		},
		"panorama24": {
			"0": "ICU",
			"1": "JavaScript",
			"2": "პანორამა #24"
		},
		"panorama25": {
			"0": "ICU",
			"1": "JavaScript",
			"2": "პანორამა #25"
		},
	    "panorama26": {
			"0": "ICU",
			"1": "Trigger Info",
			"2": "პანორამა #26"
		},
		"panorama27": {
			"0": "Info Desk",
			"1": "Trigger Mappe",
			"2": "პანორამა #27"
		},
		"panorama28": {
			"0": "Pediatric Department",
			"1": "Trigger Bild",
			"2": "პანორამა #28"
		},
		"panorama29": {
			"0": "Pediatric Department",
			"1": "Trigger Video",
			"2": "პანორამა #29"
		},
		"panorama30": {
			"0": "Pediatric Department",
			"1": "Trigger Video",
			"2": "პანორამა #30"
		},
		"panorama31": {
			"0": "Pediatric Department",
			"1": "Trigger Video",
			"2": "პანორამა #31"
		},
		"panorama32": {
			"0": "Waiting Area",
			"1": "Trigger Video",
			"2": "პანორამა #32"
		},
		"panorama33": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #33"
		},
		"panorama34": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #34"
		},
		"panorama35": {
			"0": "Patient Consultation Area",
			"1": "Trigger Video",
			"2": "პანორამა #35"
		},
		"panorama36": {
			"0": "Patient Consultation Area",
			"1": "Trigger Video",
			"2": "პანორამა #36"
		},
		"panorama37": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #37"
		},
		"panorama38": {
			"0": "Pediatric Department",
			"1": "Trigger Video",
			"2": "პანორამა #38"
		},
		"panorama39": {
			"0": "Pediatric Department",
			"1": "Trigger Video",
			"2": "პანორამა #39"
		},
		"panorama40": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #40"
		},
		"panorama41": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #41"
		},
		"panorama42": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #42"
		},
		"panorama43": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #43"
		},
		"panorama44": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #44"
		},
		"panorama45": {
			"0": "AHT Academy",
			"1": "Trigger Video",
			"2": "პანორამა #45"
		},
		"panorama46": {
			"0": "AHT Academy",
			"1": "Trigger Video",
			"2": "პანორამა #46"
		},
		"panorama47": {
			"0": "AHT Academy",
			"1": "Trigger Video",
			"2": "პანორამა #47"
		},
		"panorama48": {
			"0": "AHT Academy",
			"1": "Trigger Video",
			"2": "პანორამა #48"
		},
		"panorama49": {
			"0": "Conference Hall",
			"1": "Trigger Video",
			"2": "პანორამა #49"
		},
		"panorama50": {
			"0": "Patient Room",
			"1": "Trigger Video",
			"2": "პანორამა #50"
		},
		"panorama51": {
			"0": "Patient Room",
			"1": "Trigger Video",
			"2": "პანორამა #51"
		},
		"panorama52": {
			"0": "Post-op Area",
			"1": "Trigger Video",
			"2": "პანორამა #52"
		},
		"panorama53": {
			"0": "Post-op Area",
			"1": "Trigger Video",
			"2": "პანორამა #53"
		},
		"panorama54": {
			"0": "Post-op Area",
			"1": "Trigger Video",
			"2": "პანორამა #54"
		},
		"panorama55": {
			"0": "panorama #55",
			"1": "Trigger Video",
			"2": "პანორამა #55"
		},
		"panorama56": {
			"0": "panorama #56",
			"1": "Trigger Video",
			"2": "პანორამა #56"
		},
		"panorama57": {
			"0": "panorama #57",
			"1": "Trigger Video",
			"2": "პანორამა #57"
		},
		"panorama58": {
			"0": "panorama #58",
			"1": "Trigger Video",
			"2": "პანორამა #58"
		},
		"panorama59": {
			"0": "panorama #59",
			"1": "Trigger Video",
			"2": "პანორამა #59"
		},
		"panorama60": {
			"0": "panorama #60",
			"1": "Trigger Video",
			"2": "პანორამა #60"
		},
		"panorama61": {
			"0": "panorama #61",
			"1": "Trigger Video",
			"2": "პანორამა #61"
		},
		"panorama62": {
			"0": "panorama #62",
			"1": "Trigger Video",
			"2": "პანორამა #62"
		},
		"panorama63": {
			"0": "panorama #63",
			"1": "Trigger Video",
			"2": "პანორამა #63"
		},
		"panorama64": {
			"0": "panorama #64",
			"1": "Trigger Video",
			"2": "პანორამა #64"
		},
		"panorama65": {
			"0": "panorama #65",
			"1": "Trigger Video",
			"2": "პანორამა #65"
		},
		"panorama66": {
			"0": "panorama #66",
			"1": "Trigger Video",
			"2": "პანორამა #66"
		},
		"panorama67": {
			"0": "panorama #67",
			"1": "Trigger Video",
			"2": "პანორამა #67"
		},
		"panorama68": {
			"0": "panorama #68",
			"1": "Trigger Video",
			"2": "პანორამა #68"
		},
		"panorama69": {
			"0": "panorama #69",
			"1": "Trigger Video",
			"2": "პანორამა #69"
		},
		"panorama70": {
			"0": "panorama #70",
			"1": "Trigger Video",
			"2": "პანორამა #70"
		},
		"panorama71": {
			"0": "panorama #71",
			"1": "Trigger Video",
			"2": "პანორამა #71"
		},
		"panorama72": {
			"0": "panorama #72",
			"1": "Trigger Video",
			"2": "პანორამა #72"
		},
		"panorama73": {
			"0": "panorama #73",
			"1": "Trigger Video",
			"2": "პანორამა #73"
		},
		"panorama74": {
			"0": "panorama #74",
			"1": "Trigger Video",
			"2": "პანორამა #74"
		},
		"panorama75": {
			"0": "panorama #75",
			"1": "Trigger Video",
			"2": "პანორამა #75"
		},
		"panorama76": {
			"0": "panorama #76",
			"1": "Trigger Video",
			"2": "პანორამა #76"
		},
		"panorama77": {
			"0": "panorama #77",
			"1": "Trigger Video",
			"2": "პანორამა #77"
		},
		"panorama78": {
			"0": "panorama #78",
			"1": "Trigger Video",
			"2": "პანორამა #78"
		},
		"panorama79": {
			"0": "panorama #79",
			"1": "Trigger Video",
			"2": "პანორამა #79"
		},
		"panorama80": {
			"0": "panorama #80",
			"1": "Trigger Video",
			"2": "პანორამა #80"
		},
		"panorama81": {
			"0": "panorama #81",
			"1": "Trigger Video",
			"2": "პანორამა #81"
		},
		"panorama82": {
			"0": "panorama #82",
			"1": "Trigger Video",
			"2": "პანორამა #82"
		},
		"panorama83": {
			"0": "panorama #83",
			"1": "Trigger Video",
			"2": "პანორამა #83"
		},
		"panorama84": {
			"0": "panorama #84",
			"1": "Trigger Video",
			"2": "პანორამა #84"
		},
		"panorama85": {
			"0": "panorama #85",
			"1": "Trigger Video",
			"2": "პანორამა #85"
		},
		"panorama86": {
			"0": "panorama #86",
			"1": "Trigger Video",
			"2": "პანორამა #86"
		},
		"panorama87": {
			"0": "panorama #87",
			"1": "Trigger Video",
			"2": "პანორამა #87"
		},
		"panorama88": {
			"0": "panorama #88",
			"1": "Trigger Video",
			"2": "პანორამა #88"
		},
		"panorama89": {
			"0": "panorama #89",
			"1": "Trigger Video",
			"2": "პანორამა #89"
		},
		"panorama90": {
			"0": "panorama #90",
			"1": "Trigger Video",
			"2": "პანორამა #90"
		},
		"panorama91": {
			"0": "panorama #91",
			"1": "Trigger Video",
			"2": "პანორამა #91"
		},
		"panorama92": {
			"0": "panorama #92",
			"1": "Trigger Video",
			"2": "პანორამა #92"
		},
		"panorama93": {
			"0": "panorama #93",
			"1": "Trigger Video",
			"2": "პანორამა #93"
		},
		"panorama94": {
			"0": "panorama #94",
			"1": "Trigger Video",
			"2": "პანორამა #94"
		},
		"panorama95": {
			"0": "panorama #95",
			"1": "Trigger Video",
			"2": "პანორამა #95"
		},
		"panorama96": {
			"0": "panorama #96",
			"1": "Trigger Video",
			"2": "პანორამა #96"
		},
		"panorama97": {
			"0": "panorama #97",
			"1": "Trigger Video",
			"2": "პანორამა #97"
		},
		"panorama98": {
			"0": "panorama #98",
			"1": "Trigger Video",
			"2": "პანორამა #98"
		},
		"panorama99": {
			"0": "panorama #99",
			"1": "Trigger Video",
			"2": "პანორამა #99"
		},
		"panorama100": {
			"0": "panorama #100",
			"1": "Trigger Video",
			"2": "პანორამა #100"
		},
		"panorama101": {
			"0": "panorama #101",
			"1": "Trigger Video",
			"2": "პანორამა #101"
		},
		"panorama102": {
			"0": "panorama #102",
			"1": "Trigger Video",
			"2": "პანორამა #102"
		},
		"panorama103": {
			"0": "panorama #103",
			"1": "Trigger Video",
			"2": "პანორამა #103"
		},
		"panorama104": {
			"0": "panorama #104",
			"1": "Trigger Video",
			"2": "პანორამა #104"
		},
		"panorama105": {
			"0": "panorama #105",
			"1": "Trigger Video",
			"2": "პანორამა #105"
		},
		"panorama106": {
			"0": "panorama #106",
			"1": "Trigger Video",
			"2": "პანორამა #106"
		},
		"panorama107": {
			"0": "panorama #107",
			"1": "Trigger Video",
			"2": "პანორამა #107"
		},
		"panorama108": {
			"0": "panorama #108",
			"1": "Trigger Video",
			"2": "პანორამა #108"
		},
		"panorama109": {
			"0": "panorama #109",
			"1": "Trigger Video",
			"2": "პანორამა #109"
		},
		"panorama110": {
			"0": "panorama #110",
			"1": "Trigger Video",
			"2": "პანორამა #110"
		},
		"panorama111": {
			"0": "panorama #111",
			"1": "Trigger Video",
			"2": "პანორამა #111"
		},
		"panorama112": {
			"0": "panorama #112",
			"1": "Trigger Video",
			"2": "პანორამა #112"
		},
		"panorama113": {
			"0": "panorama #113",
			"1": "Trigger Video",
			"2": "პანორამა #113"
		},
		"panorama114": {
			"0": "panorama #114",
			"1": "Trigger Video",
			"2": "პანორამა #114"
		},
		"panorama115": {
			"0": "panorama #115",
			"1": "Trigger Video",
			"2": "პანორამა #115"
		},
		
	}
};

(function () {
	this.I18n = function (defaultLang) {
		var lang = defaultLang || '0';
		this.language = lang;

		(function (i18n) {
			i18n.contents = demoJson;
			i18n.contents.prop = function (key) {
				var result = this;
				var keyArr = key.split('.');
				for (var index = 0; index < keyArr.length; index++) {
					var prop = keyArr[index];
					result = result[prop];
				}
				return result;
			};
			i18n.localize();
		})(this);
	};

	this.I18n.prototype.hasCachedContents = function () {
		return this.contents !== undefined;
	};

	this.I18n.prototype.lang = function (lang) {
		if (typeof lang === 'string') {
			this.language = lang;
		}
		this.localize();
		return this.language;
	};

	this.I18n.prototype.localize = function () {
		var contents = this.contents;
		if (!this.hasCachedContents()) {
			return;
		}
		var dfs = function (node, keys, results) {
			var isLeaf = function (node) {
				for (var prop in node) {
					if (node.hasOwnProperty(prop)) {
						if (typeof node[prop] === 'string') {
							return true;
						}
					}
				}
			}
			for (var prop in node) {
				if (node.hasOwnProperty(prop) && typeof node[prop] === 'object') {
					var myKey = keys.slice();
					myKey.push(prop);
					if (isLeaf(node[prop])) {
						//results.push(myKey.reduce((prev, current) => prev + '.' + current));	//not supported in older mobile broweser
						results.push(myKey.reduce( function (previousValue, currentValue, currentIndex, array) {
							return previousValue + '.' + currentValue;
						}));
					} else {
						dfs(node[prop], myKey, results);
					}
				}
			}
			return results;
		};
		var keys = dfs(contents, [], []);
		for (var index = 0; index < keys.length; index++) {
			var key = keys[index];
			if (contents.prop(key).hasOwnProperty(this.language)) {
				$('[data-i18n="'+key+'"]').text(contents.prop(key)[this.language]);
				$('[data-i18n-placeholder="'+key+'"]').attr('placeholder', contents.prop(key)[this.language]);
				$('[data-i18n-value="'+key+'"]').attr('value', contents.prop(key)[this.language]);
			} else {
				$('[data-i18n="'+key+'"]').text(contents.prop(key)['en']);
				$('[data-i18n-placeholder="'+key+'"]').attr('placeholder', contents.prop(key)['en']);
				$('[data-i18n-value="'+key+'"]').attr('value', contents.prop(key)['en']);
			}
		}
	};

}).apply(window);

$( document ).ready( function () {

	var i18n = new I18n();
	i18n.localize();
	//$('.lang-picker #english').addClass('selected');


	$('.lang-en').on('click touchstart', function () {
		i18n.lang('0');
		pano.setVariableValue('lang', 0);
		
	})
	$('.lang-de').on('click touchstart', function () {
		i18n.lang('1');
		pano.setVariableValue('lang', 1);
		
	})
	$('.lang-gr').on('click touchstart', function () {
		i18n.lang('2');
		pano.setVariableValue('lang', 2);
		
	})
});


